---
name: issue-discuss
description: Interactive discovery and discussion before planning implementation
allowed-tools: Bash(gh issue view:*), Bash(gh label list), Bash(gh issue comment:*)
argument-hint: <issue-number>
---

Explore and discuss issue #$ARGUMENTS through interactive discovery before creating an implementation plan.

## Pre-loaded Context

`!gh issue view $ARGUMENTS && echo -e "\n========== COMMENTS ==========\n" && gh issue view $ARGUMENTS --comments`

`!gh label list`

## Purpose

This command facilitates exploratory conversation about a feature or task before planning implementation. Use this when:

- Feature requirements need clarification
- Design decisions need discussion
- Edge cases need exploration
- Multiple approaches exist and you need to decide

## Workflow

### Step 1: Validate Arguments

If $ARGUMENTS is empty, prompt user for issue number.

### Step 2: Analyze Issue Context

Review the pre-loaded issue details, comments, and labels to understand:

- What is being requested
- What context has been provided
- What questions or ambiguities exist
- What design decisions are needed

### Step 3: Interactive Discovery (in chat)

Engage in collaborative discussion with the user by asking:

- **Clarifying questions** - "How should X behave when Y happens?"
- **Design exploration** - "Have you considered approach A vs B?"
- **Edge case probing** - "What should happen if...?"
- **Implementation concerns** - "Should this integrate with existing feature Z?"
- **User experience** - "How will users interact with this?"

Continue discussion until key decisions are made and ambiguities are resolved.

### Step 4: Draft Discussion Summary

Write comprehensive summary to `docs/sandbox/issue-{number}-discussion.md`:

**Format:**

- **ðŸ¤– header:** `ðŸ¤– Generated by Claude Code`
- **Voice:** Third person (comment style)
- **Tense:** Present tense
- **Content:**
    - Summary of discussion
    - Key decisions made
    - Design choices and rationale
    - Edge cases identified
    - Next steps or open questions

### Step 5: User Review

Present the sandbox file for user review and approval. User can:

- Request changes
- Edit file directly
- Approve as-is

### Step 6: Provide Post Command

After approval, provide command to post as issue comment:

```bash
gh issue comment {number} -F docs/sandbox/issue-{number}-discussion.md
```

## Output

Direct to chat during discussion phase, then sandbox file for posting.

## Notes

- This is distinct from `/github:issue-plan` - discuss explores and decides, plan synthesizes and structures
- Discussion can span multiple rounds - iterate until clarity is achieved
- User always has final approval before posting to GitHub
- If no discussion is needed and requirements are clear, skip to `/github:issue-plan`
- Don't pre-load templates - discussion happens before template is chosen
