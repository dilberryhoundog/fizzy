Session: 2240523c-f8dc-447b-9873-ad256160ad37
Date: 2025-12-05 15:53
Branch: docs/extract-rails-patterns
CWD: ~/Projects/37signals/fizzy

============================================================
[SUMMARY]
>>>
Tested CSS Finder agent by requesting searches for button, card/panel, and form input classes. Agent successfully returned comprehensive documentation with file paths, line numbers, CSS custom properties, and usage examples for all components.
<<<
------------------------------------------------------------

[USER] [SLASH COMMAND]
/clear unknown

------------------------------------------------------------

[USER]    ðŸ’­: none
can you test the css-support agent by asking it for a few css classes.

------------------------------------------------------------

[ASSISTANT]
I'll test the CSS Finder agent by asking it to find some CSS classes for common styling needs.

------------------------------------------------------------

[TASK TOOL]
Sub Agent: CSS Finder
Task Description: Find button CSS classes

------------------------------------------------------------

[TASK TOOL]
Sub Agent: CSS Finder
Task Description: Find card/panel CSS classes

------------------------------------------------------------

[TASK TOOL]
Sub Agent: CSS Finder
Task Description: Find form input CSS classes

------------------------------------------------------------

[TASK RESULT] [COMPLETED]
Task Prompt:
Find existing CSS classes in this codebase for styling buttons. Look for primary/secondary button styles, button sizes, and any button variants. Search in app/assets/stylesheets/ and report back what classes are available with brief descriptions of what each does.

Task Result:
Perfect! I now have a comprehensive understanding of the button system in Fizzy. Let me compile the findings:

## Button CSS Classes in Fizzy

Based on my search through the stylesheets, here are all the available button classes:

### Core Button Class

**`.btn`** - Base button class (defined in `~/Projects/37signals/fizzy/app/assets/stylesheets/buttons.css`)
- Rounded pill-shaped button with 99rem border radius
- Default padding: 0.5em 1.1em
- Font weight: 600
- Inline-flex with centered content and 0.5em gap
- Auto brightness filter on hover (0.9 in light mode, 1.25 in dark mode)
- Disabled state with 0.3 opacity
- Loading state animation when form has `aria-busy` attribute
- Highly customizable via CSS custom properties

### Button Style Variants

**`.btn--plain`** (lines 72-79)
- Transparent background
- No border
- No padding
- Inherits text color
- Full icon size (100%)
- Used for minimal, text-like buttons

**`.btn--link`** (lines 81-86)
- Primary/call-to-action style
- Blue background using `--color-link`
- White/inverted text color
- Canvas-colored border

**`.btn--negative`** (lines 125-130)
- Destructive action style
- Red background using `--color-negative`
- White/inverted text color
- Used for delete/remove actions

**`.btn--positive`** (lines 132-137)
- Positive/success action style
- Green background using `--color-positive`
- White/inverted text color
- Used for confirm/success actions

**`.btn--reversed`** (lines 158-163)
- Dark button on light background
- Ink-colored background with canvas-colored text
- Creates high contrast

### Button Shape Variants

**`.btn--circle`** (lines 88-104)
- Circular icon-only button
- Square aspect ratio (1:1)
- Uses `--btn-size` for dimensions (default: 2.65em from `_global.css`)
- Icon scaled to 75%
- No padding
- Also automatically applied to buttons with `aria-label` that contain only an icon

**`.btn--circle-mobile`** (lines 107-123)
- Becomes circular on mobile screens (max-width: 639px)
- Shows only icon on mobile, hides text
- Full button with text on desktop (min-width: 640px)

**`.btn--back`** (lines 209-227)
- Special back navigation button
- No border
- Medium text size
- Shows only arrow icon on mobile
- Shows text with kbd on desktop

### Button State Variants

**`.btn--success`** (lines 139-146)
- Animated success state
- Zoom-fade animation on icon
- Applied temporarily after successful actions

**`.btn--placeholder`** (lines 149-152)
- Invisible spacer button
- Used for layout/spacing purposes
- Not clickable, visibility hidden

**`.btn--remove`** (lines 154-156)
- Specialized for remove actions
- Smaller icon size (0.7em)

### Toggleable Buttons (lines 165-207)

The `.btn` class supports embedded checkboxes/radio inputs for toggle functionality:
- Automatically styles when containing `input[type=radio]` or `input[type=checkbox]`
- Checked state inverts colors (dark background, light text)
- Focus-visible styling on the input
- `.checked` class content shows only when checked

### Button Groups

**`.btn__group`** (lines 233-265)
- Container for grouped buttons
- Buttons have 0 border radius except on ends
- First button has rounded start corners
- Last button has rounded end corners
- Equal flex sizing (33% base)
- Shared borders between buttons

### Size Customization

Button size is controlled via CSS custom property:
- **Default**: `--btn-size: 2.65em` (from `_global.css` line 47)
- Override locally by setting `--btn-size` on the button or parent element
- Various components override this (notifications: 1.8em, cards: 1.6em, reactions: 1.25rem, etc.)

### CSS Custom Properties for Customization

The `.btn` class exposes these CSS variables for per-instance customization:
- `--btn-background` - Background color
- `--btn-border-color` - Border color
- `--btn-border-size` - Border width (default: 1px)
- `--btn-border-radius` - Border radius (default: 99rem)
- `--btn-color` - Text color
- `--btn-font-weight` - Font weight (default: 600)
- `--btn-gap` - Gap between icon and text (default: 0.5em)
- `--btn-padding` - Internal padding (default: 0.5em 1.1em)
- `--btn-icon-size` - Icon size (default: 1.3em)
- `--btn-size` - For circular buttons (default: 2.65em)
- `--btn-hover-brightness` - Hover brightness multiplier

### Usage Examples

```html
<!-- Default button -->
<button class="btn">Click me</button>

<!-- Primary action -->
<button class="btn btn--link">Save</button>

<!-- Destructive action -->
<button class="btn btn--negative">Delete</button>

<!-- Icon-only circular button -->
<button class="btn btn--circle" aria-label="Close">
  <span class="icon">Ã—</span>
</button>

<!-- Mobile-adaptive button -->
<button class="btn btn--circle-mobile">
  <span class="icon">+</span>
  <span>Add Item</span>
</button>

<!-- Custom size button -->
<button class="btn" style="--btn-size: 3em">Large</button>
```

All button classes are defined in `~/Projects/37signals/fizzy/app/assets/stylesheets/buttons.css` with the default sizing in `~/Projects/37signals/fizzy/app/assets/stylesheets/_global.css`.

------------------------------------------------------------

[TASK RESULT] [COMPLETED]
Task Prompt:
Find existing CSS classes for card or panel styling in this codebase. Look for container classes that create boxed/elevated content areas. Search in app/assets/stylesheets/ and report back available classes with their purposes.

Task Result:
Excellent! Now I have a comprehensive understanding of the card and panel styling classes in this codebase. Let me compile the findings:

## Card and Panel Styling Classes in Fizzy

Based on my analysis of `~/Projects/37signals/fizzy/app/assets/stylesheets/`, here are the available container classes for creating boxed/elevated content areas:

### Primary Panel Classes

**File:** `~/Projects/37signals/fizzy/app/assets/stylesheets/panels.css`

1. **`.panel`** - Base panel container
   - Creates a boxed content area with border and background
   - Default width: 60ch (mobile), 100% (desktop 640px+)
   - Rounded corners (1em border-radius)
   - Automatic padding (increases on desktop)
   - Border: 1px solid with lighter ink color
   - Background: Canvas color

2. **`.panel--wide`** - Wide panel variant
   - Sets panel size to 60ch (wider than default on mobile)

3. **`.panel--centered`** - Centered panel variant
   - No border (borderless)
   - Width: 100% (mobile), 42ch (desktop 640px+)
   - Uses `:has()` selector to center its parent `#main` container
   - Commonly used for login/signup forms

### Card Classes (Kanban-style)

**File:** `~/Projects/37signals/fizzy/app/assets/stylesheets/cards.css`

4. **`.card`** - Full-featured card component
   - Sophisticated kanban card with color theming
   - Box shadow for elevation
   - Color-mixed backgrounds based on `--card-color` variable
   - Includes subcomponents: header, body, meta, tags
   - Flexible aspect ratio support

5. **`.card--notification`** - Notification card variant
   - Compact version for notification lists
   - Smaller padding and adjusted spacing

### Supporting Classes

**File:** `~/Projects/37signals/fizzy/app/assets/stylesheets/bubble.css`

6. **`.bubble`** - Decorative bubble element
   - Organic shaped badge/number display
   - Uses on cards for visual interest
   - Animated wobble on hover

### Elevation & Effects

**File:** `~/Projects/37signals/fizzy/app/assets/stylesheets/utilities.css`

7. **`.shadow`** - Box shadow utility
   - Applies layered shadow effect: `var(--shadow)`
   - Shadow definition (from `_global.css`): Multi-layered subtle shadows with increasing blur

### Common Combinations

Based on view usage patterns:

```html
<!-- Centered form panel (login/signup) -->
<div class="panel panel--centered flex flex-column gap-half">

<!-- Settings panel with shadow -->
<div class="settings__panel panel shadow center">

<!-- Wide notification panel -->
<section class="panel panel--wide center borderless unpad">

<!-- Standard panel with shadow and centering -->
<div class="panel shadow center margin-block-double">
```

### Modifier Utilities (to combine with panels)

From `~/Projects/37signals/fizzy/app/assets/stylesheets/utilities.css`:

- **`.shadow`** - Add box shadow elevation
- **`.center`** - Horizontal centering (margin-inline: auto)
- **`.borderless`** - Remove borders
- **`.unpad`** - Remove padding
- **`.fill-shade`** - Light background fill
- **`.border-radius`** - Add border radius

### Settings-Specific Panel

**File:** `~/Projects/37signals/fizzy/app/assets/stylesheets/settings.css`

8. **`.settings__panel`** - Settings page panel variant
   - Extends `.panel` with settings-specific spacing
   - Works within `.settings` grid layout
   - Responsive 2-column grid on desktop (960px+)

---

## Recommended Usage

**For centered forms/dialogs:**
```html
<div class="panel panel--centered">
  <!-- content -->
</div>
```

**For content sections with elevation:**
```html
<div class="panel shadow center">
  <!-- content -->
</div>
```

**For wide content areas:**
```html
<section class="panel panel--wide center">
  <!-- content -->
</section>
```

**For kanban cards:**
```html
<div class="card" style="--card-color: oklch(...)">
  <!-- card structure -->
</div>
```

All measurements use modern CSS logical properties (inline/block) for better internationalization support, and the codebase follows a CSS layers architecture (@layer utilities, @layer components, @layer base).

------------------------------------------------------------

[TASK RESULT] [COMPLETED]
Task Prompt:
Find existing CSS classes for styling form inputs (text fields, textareas, selects) in this codebase. Search in app/assets/stylesheets/ and report back what input styling classes are available.

Task Result:
Perfect! Now I have a comprehensive understanding of the form input styling in Fizzy. Let me compile my findings:

---

## Form Input CSS Classes in Fizzy

Based on my analysis of `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` and related files, here are all available form input styling classes:

### Primary Input Classes

**`.input`** - Base class for all text inputs, textareas, and selects
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 3-58)
- Features:
  - 0.5em border radius
  - 1px solid border with `--color-ink-medium`
  - Full width (`inline-size: 100%`)
  - Padding: `0.5em 0.8em`
  - Font size: `max(16px, 1em)` (prevents iOS zoom on focus)
  - Handles autofill styling
  - Focus ring offset: `-1px`
  - Readonly inputs have no focus ring
- Use on: `<input type="text">`, `<input type="email">`, `<input type="password">`, etc.

### Input Variants

**`.input--select`** - Select dropdown styling
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 104-124)
- Features:
  - Rounded pill shape (`--input-border-radius: 2em`)
  - Custom dropdown arrow SVG (auto-switches for dark mode)
  - Arrow positioned right side (`center right 0.9em`)
  - Padding: `0.5em 1.8em 0.5em 1.2em` (extra right padding for arrow)
  - Removes native select appearance
- Use on: `<select>` elements
- Combine with: `.input` class

**`.input--textarea`** - Textarea-specific styling
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 126-140)
- Features:
  - No padding override (`--input-padding: 0`)
  - Min height: 3 lines
  - Auto-grows with `field-sizing: content` (modern browsers)
  - Max height: 3 lines when field-sizing supported
- Use on: `<textarea>` elements
- Combine with: `.input` class

**`.input--file`** - File input styling (overlays on images)
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 60-102)
- Features:
  - Grid layout for overlay effect
  - Transparent border, cursor pointer
  - Hides file button visually but keeps clickable
  - Focus outline on container
  - Avatar variant with circular border
- Use on: Wrapper element containing `<input type="file">`
- Example: `<label class="input--file"><input type="file"></label>`

**`.input--actor`** - Container that wraps inputs (focus behavior on parent)
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 222-250)
- Features:
  - Focus-within styling (shows focus on container instead of input)
  - Nested `.input` has transparent background, no border, no padding
  - Handles autofill on nested inputs
  - Outline offset: `-1px`
- Use on: `<label>` or wrapper `<div>` containing an `.input`
- Common pattern: `<label class="input input--actor"><input class="input"></label>`

**`.input--invisible`** - Hidden input (screen reader only)
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 142-152)
- Features:
  - 5px x 5px, opacity 0.1
  - No border, transparent background
  - No focus outline
- Use for: Accessibility/hidden inputs

**`.input--hidden`** - Completely hidden input
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 252-257)
- Features:
  - 0 width/height, opacity 0, no padding
- Use for: Inputs that should be in DOM but not visible

**`.input--transparent`** - Transparent borderless input
- Found in views usage (not explicitly defined as separate class)
- Custom property override: Apply `.input` then override with inline styles or use with utilities
- Common pattern: `class="input input--transparent"` (likely uses custom properties)

### Switch/Toggle Components

**`.switch`** - Toggle switch container
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 155-169)
- Dimensions: `1.75em` height x `3em` width
- Features:
  - Rounded pill shape
  - Handles focus-visible on nested input
  - Color: `--color-ink-medium` default, `--color-link` when checked

**`.switch__input`** - Hidden checkbox input for switch
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 172-176)
- Features: 0 width/height, opacity 0.1
- Use on: `<input type="checkbox">` inside `.switch`

**`.switch__btn`** - Visual switch button
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 178-219)
- Features:
  - Absolute positioned, fills container
  - Animated sliding dot via `::before` pseudo-element
  - Hover brightness effect
  - Checked state: blue color, dot slides right
  - Disabled state: gray, opacity 0.5

### Special Purpose Input Classes

**`.boost__input`** - Inline numeric input (very compact)
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 259-286)
- Features:
  - No border, no padding, no border radius
  - Min width: `1ch`, max: `3ch` (or content-sized if supported)
  - Inherits font size/weight/color
  - Yellow highlight on focus
  - Removes number spinner buttons
- Use for: Inline editable numbers in text

**`[autocomplete='one-time-code']`** - OTP/verification code styling
- Defined in: `~/Projects/37signals/fizzy/app/assets/stylesheets/inputs.css` (lines 32-42)
- Features (when applied to `.input`):
  - Monospace font
  - Large text size
  - Font weight 900
  - Letter spacing: `1ch`
  - Width: `18ch`, centered text
- Automatically applies to inputs with `autocomplete="one-time-code"`

### CSS Custom Properties (Variables)

You can customize input appearance using these CSS variables:

```css
--input-accent-color: /* Checkbox/radio accent color (default: --color-ink) */
--input-background: /* Background color (default: transparent) */
--input-border-radius: /* Border radius (default: 0.5em) */
--input-border-size: /* Border width (default: 1px) */
--input-border-color: /* Border color (default: --color-ink-medium) */
--input-color: /* Text color (default: --color-ink) */
--input-padding: /* Internal padding (default: 0.5em 0.8em) */
--input-spacing: /* Used for OTP fields (default: 0.5em) */
```

### Common Utility Class Combinations

Based on actual usage in views:

1. **Standard text input:**
   ```html
   <input type="text" class="input">
   ```

2. **Full-width input:**
   ```html
   <input type="text" class="input full-width">
   ```

3. **Select dropdown:**
   ```html
   <select class="input input--select">
   ```

4. **Textarea:**
   ```html
   <textarea class="input input--textarea">
   ```

5. **Input with label wrapper (focus on container):**
   ```html
   <label class="flex align-center gap input input--actor">
     <input class="input full-width" type="email">
   </label>
   ```

6. **Readonly input:**
   ```html
   <input type="text" class="input flex-item-grow" readonly>
   ```

7. **Toggle switch:**
   ```html
   <label class="switch">
     <input type="checkbox" class="switch__input">
     <span class="switch__btn"></span>
   </label>
   ```

### Related Utility Classes

From `~/Projects/37signals/fizzy/app/assets/stylesheets/utilities.css`:

- `.full-width` - Makes input 100% width
- `.flex` / `.flex-inline` - Flexbox layout
- `.gap` / `.gap-half` - Spacing between elements
- `.align-center` - Vertical alignment
- `.txt-small` / `.txt-medium` / `.txt-large` - Font sizes
- `.flex-item-grow` - Flex grow for inputs in flex containers

### Notes

- No explicit `.label` class exists - labels use utility classes like `.flex`, `.align-center`, `.gap`
- No `.field` or form wrapper classes - forms use generic layout utilities
- The codebase uses modern CSS features: `field-sizing`, logical properties (`inline-size`, `padding-inline`), `:has()` selector
- Focus styling is consistent across all inputs via base layer in `~/Projects/37signals/fizzy/app/assets/stylesheets/base.css`

------------------------------------------------------------

[ASSISTANT]
The CSS Finder agent is working well. Here's a summary of what it found:

## Button Classes (`buttons.css`)
- **`.btn`** - Base button with customizable CSS variables
- **`.btn--link`** - Primary/CTA style (blue)
- **`.btn--negative`** - Destructive actions (red)
- **`.btn--positive`** - Success actions (green)
- **`.btn--plain`** - Minimal, text-like
- **`.btn--circle`** - Icon-only circular button
- **`.btn--circle-mobile`** - Circular on mobile, full on desktop
- **`.btn__group`** - Button group container

## Panel/Card Classes (`panels.css`, `cards.css`)
- **`.panel`** - Base boxed container with border
- **`.panel--centered`** - Centered narrow panel (login forms)
- **`.panel--wide`** - Wider panel variant
- **`.card`** - Kanban-style card with color theming
- **`.shadow`** - Elevation utility

## Form Input Classes (`inputs.css`)
- **`.input`** - Base input styling
- **`.input--select`** - Custom select dropdown
- **`.input--textarea`** - Auto-growing textarea
- **`.input--file`** - File upload overlay styling
- **`.input--actor`** - Focus container wrapper
- **`.switch`** / **`.switch__btn`** - Toggle switches

The agent provided comprehensive details including CSS custom properties, usage examples, and file locations with line numbers. It's functioning correctly.

------------------------------------------------------------

[USER] [SLASH COMMAND]
/exit unknown

------------------------------------------------------------

[ASSISTANT]
No response requested.

------------------------------------------------------------

[USER]    ðŸ’­: none
thanks

------------------------------------------------------------

[ASSISTANT]
You're welcome! Let me know if you need anything else.

------------------------------------------------------------

[USER] [SLASH COMMAND]
/exit unknown

------------------------------------------------------------

[ASSISTANT]
No response requested.

------------------------------------------------------------

[USER] [SLASH COMMAND]
/exit unknown

------------------------------------------------------------
